<!-- TODO: Implement profile page -->   
 {{define "title"}}Profile - Concert Booking System{{end}}

 {{define "content"}}
 <div class="profile-container">
    <h1>My Profile</h1>
    
    <div class="profile-info">
        <h2>User Information</h2>
        <p><strong>Username:</strong> {{.User.Username}}</p>
        <p><strong>Email:</strong> {{.User.Email}}</p>
        {{if .User.FirstName}}<p><strong>First Name:</strong> {{.User.FirstName}}</p>{{end}}
        {{if .User.LastName}}<p><strong>Last Name:</strong> {{.User.LastName}}</p>{{end}}
        <p><strong>Role:</strong> {{.User.Role}}</p>
        
        <form method="POST" action="/logout" style="margin-top: 1.5rem;">
            <button type="submit" class="logout-btn">Logout</button>
        </form>
    </div>

    <div class="profile-participations">
        <h2>My Show Participations</h2>
        {{if .User.Fans}}
            <div class="participations-list">
                {{range .User.Fans}}
                <div class="participation-card">
                    <h3>{{.Show.Artist.Nom}}</h3>
                    <p><strong>Date:</strong> {{.Show.Date.Format "January 2, 2006 at 15:04"}}</p>
                    <p><strong>Location:</strong> {{.Show.Place}}</p>
                    <p><strong>Genre:</strong> {{.Show.Artist.Genre}}</p>
                    <p><strong>Price Paid:</strong> ${{.Price}}</p>
                    <p><strong>Registered As:</strong> {{.Nom}}</p>
                    <a href="/show/{{.Show.Artist.Nom}}" class="btn">View Show Details</a>
                </div>
                {{end}}
            </div>
        {{else}}
            <p class="empty-message">You haven't registered for any shows yet. <a href="/fans/new">Register for a show!</a></p>
        {{end}}
    </div>
</div>

<style>
.profile-container {
    max-width: 800px;
    margin: 2rem auto;
    padding: 2rem;
}

.profile-info {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    margin-bottom: 2rem;
}

.profile-info h2 {
    margin-top: 0;
    color: #333;
    border-bottom: 2px solid #667eea;
    padding-bottom: 0.5rem;
}

.profile-info p {
    margin: 0.75rem 0;
    color: #555;
}

.logout-btn {
    background-color: #dc3545;
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    transition: background-color 0.2s, transform 0.1s;
}

.logout-btn:hover {
    background-color: #c82333;
    transform: translateY(-1px);
}

.logout-btn:active {
    transform: translateY(0);
}

.profile-participations h2 {
    color: #333;
    margin-bottom: 1rem;
    border-bottom: 2px solid #667eea;
    padding-bottom: 0.5rem;
}

.participations-list {
    display: grid;
    gap: 1rem;
}

.participation-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s, box-shadow 0.2s;
}

.participation-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
}

.participation-card h3 {
    margin-top: 0;
    color: #667eea;
}

.participation-card p {
    margin: 0.5rem 0;
    color: #555;
}

.participation-card .btn {
    display: inline-block;
    margin-top: 1rem;
    padding: 0.5rem 1rem;
    background-color: #667eea;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.participation-card .btn:hover {
    background-color: #5568d3;
}

.empty-message {
    text-align: center;
    padding: 2rem;
    background: #f8f9fa;
    border-radius: 8px;
    color: #666;
}

.empty-message a {
    color: #667eea;
    text-decoration: none;
    font-weight: 600;
}

.empty-message a:hover {
    text-decoration: underline;
}
</style>
{{end}}